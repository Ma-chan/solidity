//このコードはsplitDAO関数の最後の部分.
//withdrawとbalancesによって再入可能性を許してしまう.
//外部コントラクトへの転送後に残高が0になってしまう.
Transfer(msg.sender,0,balances[msg.sender]);
withdrawRewardFor(msg.sender);
totalSupply -= balances[msg.sender];
balances[msg.sender] = 0;
paidOut[msg.sender] = 0;
return true;
}
